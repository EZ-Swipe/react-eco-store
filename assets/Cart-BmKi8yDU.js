import{r as l,j as t}from"./react-CPNw1Jrz.js";import{a as g}from"./index-pzz9WsBo.js";import{L as h}from"./react-router-dom-BU-0o0IZ.js";import{H as C,i as v,a as j}from"./react-icons-TdxXjLnI.js";import{C as k}from"./CartTotal-BV6loTYd.js";import{T as f}from"./antd-BjQ6PU3c.js";import"./classnames-Bxm1Ctah.js";import"./react-dom-DjwJaTjF.js";import"./scheduler-CzFDRTuY.js";import"./zustand-Bm3Dz7Tt.js";import"./use-sync-external-store-SX5OOXEL.js";import"./uuid-D8aEg3BZ.js";import"./react-router-D6JsKyMN.js";import"./@remix-run-DEp2-txB.js";import"./rc-util-BttELmaR.js";import"./@babel-gmUhV_pN.js";import"./@ant-design-BeUUkW7W.js";import"./@emotion-CW87jbl0.js";import"./stylis-DsJDcYJc.js";import"./resize-observer-polyfill-BcpwWBb3.js";import"./@ctrl-DOFZgDuz.js";import"./rc-resize-observer-BhALAyej.js";import"./rc-motion-PMDr4Ect.js";import"./rc-tooltip-6RY7JpD2.js";import"./@rc-component-Dpy5ogHM.js";import"./rc-overflow-BtZ9LkFu.js";import"./rc-menu-BoJs15CL.js";import"./rc-select-ZfGmHPjq.js";import"./rc-virtual-list-BXJKOxBS.js";import"./rc-drawer-xR1Gg4UE.js";import"./rc-field-form-DqjcOlB4.js";import"./async-validator-DKvM95Vc.js";import"./rc-dialog-CQdEGt-C.js";import"./rc-notification-cOuYuFHf.js";import"./rc-slider-jPIEkDIp.js";import"./rc-table-DCZs97j0.js";import"./rc-tree-B-r11G0y.js";import"./rc-checkbox-sj3DwJjn.js";import"./rc-pagination-D_MbfbVD.js";import"./rc-picker-BChF2KmU.js";import"./rc-dropdown-CznHduDl.js";import"./throttle-debounce-CWhimLW_.js";import"./rc-input-DAqGyb9X.js";import"./rc-textarea-D3FxMiJm.js";const _=({initialValue:s,onChange:r})=>{const[c,n]=l.useState(s),d=()=>{if(c>1){const i=c-1;n(i),r(i)}},m=()=>{const i=c+1;n(i),r(i)};return t.jsxs("div",{className:"counter",children:[t.jsx("button",{className:"counter-btn",onClick:d,children:t.jsx(C,{size:"1.3rem"})}),t.jsx("div",{className:"counter-value",children:c}),t.jsx("button",{className:"counter-btn",onClick:m,children:t.jsx(v,{size:"1.3rem"})})]})},y=({product:s})=>t.jsxs("div",{className:"product-card border-hover",style:{marginBottom:"10px"},children:[s.discount&&t.jsxs("div",{className:"product-card__sale",children:["Sale ",t.jsxs("span",{children:[s.percentDiscount,"%"]})]}),s.stockStatus=="Out of Stock"&&t.jsx("div",{className:"product-card__stock",children:s.stockStatus}),t.jsx("img",{src:s.image,alt:"",className:"product-card__image"}),t.jsxs("div",{className:"product-card__info",children:[t.jsx("p",{className:"product-card__title",children:s.name}),s.discount?t.jsxs("div",{className:"product-card__prices",children:[t.jsxs("p",{className:"product-card__prices-price",children:["$",s.price]}),t.jsxs("p",{className:"product-card__prices-discount",children:["$",s.discount]})]}):t.jsx("div",{className:"product-card__prices",children:t.jsxs("p",{className:"product-card__prices-price",children:["$",s.price]})})]})]}),jt=()=>{const s=[{title:"Product",dataIndex:"name",className:"custom-column",render:(a,e)=>t.jsxs("div",{className:"table__product",children:[t.jsx("img",{src:e.image,alt:e.name,style:{height:"100px"}}),e.name]})},{title:"Price",dataIndex:"price",className:"custom-column",render:(a,e)=>t.jsxs("div",{className:"table__price-value",children:["$",e.price]})},{title:"Quantity",dataIndex:"quantity",className:"custom-column",render:(a,e)=>t.jsx(_,{initialValue:e.quantity,onChange:o=>u(e.key,o)})},{title:"Subtotal",dataIndex:"subtotal",className:"custom-column",render:(a,e)=>t.jsxs("div",{className:"table__subtotal",children:["$",e.subtotal]})},{title:"",dataIndex:"actions",render:(a,e)=>t.jsx(j,{className:"cart-item__close shopping-cart__delete-v2",onClick:()=>x(e.key)})}],{cart:r,setCart:c}=g(),[n,d]=l.useState([]),[m,i]=l.useState(1),N=2;l.useEffect(()=>{const a=r.map(e=>({key:e.product.id,name:e.product.name,price:e.product.price,quantity:e.amount,image:e.product.image,subtotal:(e.amount*e.product.price).toFixed(2)}));d(a)},[r]);const u=(a,e)=>{const o=r.map(p=>p.product.id===a?{...p,amount:e}:p);c(o)},x=a=>{const e=r.filter(o=>o.product.id!==a);c(e)},b=()=>n.reduce((a,e)=>a+e.price*e.quantity,0).toFixed(2);return t.jsx("div",{className:"cart-page page-padding-y",children:t.jsxs("div",{className:"container",children:[t.jsx("h5",{className:"wish-cart-title",children:"My Shopping Cart"}),t.jsxs("div",{className:"flex-container cart-table",children:[t.jsx(f,{className:"table",pagination:{pageSize:N,total:n.length,current:m,onChange:a=>i(a)},columns:s,dataSource:n,style:{width:"100%"},footer:()=>t.jsx("div",{className:"table-footer",children:t.jsx(h,{to:"/categories",className:"table-btn",children:"Return to shop"})})}),t.jsx("div",{className:"products-container cart-products-container",children:r.map(({product:a,amount:e})=>t.jsxs("div",{style:{position:"relative"},children:[t.jsx(y,{product:a}),t.jsx(j,{className:"cart-item__close shopping-cart__delete",onClick:()=>x(a.id)}),t.jsx(_,{initialValue:e,onChange:o=>u(a.id,o)})]},a.id))}),t.jsxs("div",{className:"cart-total",children:[t.jsx("span",{className:"cart-total__title",children:"Cart Total"}),t.jsx(k,{getTotalSum:b}),r.length===0?t.jsx("button",{className:"disabled-btn checkout-disabled-btn",disabled:!0,children:"Checkout"}):t.jsx(h,{to:"/checkout",className:"checkout-btn cart-page__checkout-btn",disabled:r.length===0,children:"Checkout"})]})]})]})})};export{jt as default};
