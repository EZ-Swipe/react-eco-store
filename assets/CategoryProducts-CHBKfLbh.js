import{r as u,j as P}from"./react-CPNw1Jrz.js";import{u as C}from"./index-pzz9WsBo.js";import{c as F}from"./zustand-Bm3Dz7Tt.js";import{P as h}from"./Product-BZt83jEV.js";import{g as x,b as j}from"./react-router-D6JsKyMN.js";const v=F(e=>({activeCategory:{},productsCategory:[],priceRange:[0,100],ratingFilter:[],tagsFilter:[],setActiveCategory:t=>{e({activeCategory:t})},setProductsCategory:t=>{e({productsCategory:t})},setPriceRange:t=>{e({priceRange:t})},setRatingFilter:t=>{e({ratingFilter:t})},setTagsFilter:t=>{e({tagsFilter:t})}})),E=()=>{const{slug:e}=x(),t=j(),{products:f,categories:d}=C(),{setActiveCategory:p,setProductsCategory:i,activeCategory:a,priceRange:c,ratingFilter:n,tagsFilter:g,productsCategory:m}=v();return u.useEffect(()=>{p(d.find(r=>r.slug===e))},[d,e,p]),u.useEffect(()=>{if(a){const r=f.filter(o=>o.category_id===(a==null?void 0:a.id));let s=r;if(g.length>0&&(s=r.filter(o=>g.every(l=>o.tags.includes(l)))),c){const[o,l]=c;s=s.filter(y=>y.price>=o&&y.price<=l)}n.length>0&&(s=s.filter(o=>n.includes(Math.floor(o.rating)))),i(s)}},[a,c,i,n,g,f]),u.useEffect(()=>{i([])},[t.pathname,i]),P.jsx("div",{className:"products-container",children:m.length<1?"No products match the selected criteria":m.map(r=>P.jsx(h,{product:r},r.id))})},A=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));export{E as C,A as a,v as u};
